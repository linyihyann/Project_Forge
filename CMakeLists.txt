cmake_minimum_required(VERSION 3.13)

set(PICO_PLATFORM rp2350-arm-s CACHE STRING "Target platform")
set(PICO_BOARD pico2_w CACHE STRING "Target board")

include(pico_sdk_import.cmake)
project(Project_Forge C CXX ASM)
pico_sdk_init()

# 1. ğŸŒŸ å…ˆå‰µé€ åŸ·è¡Œæª” (å» é•·)
add_executable(firmware main.c)

# 2. ğŸŒŸ å‘¼å«å­è³‡æ–™å¤¾ (å®ƒå€‘æœƒæŠŠä»£ç¢¼ç›´æ¥æ›è¼‰çµ¦ firmware)
add_subdirectory(src/app)
add_subdirectory(src/hal/rp2350)

# 3. ğŸŒŸ å» é•·çµ±ä¸€é…ç™¼å¼•æ“èˆ‡åº•å±¤ (åªåœ¨é€™è£¡å‘¼å«ä¸€æ¬¡ SDK)
target_link_libraries(firmware PRIVATE 
    pico_standard_link
    pico_cyw43_arch_none 
    pico_stdlib
)

pico_add_extra_outputs(firmware)